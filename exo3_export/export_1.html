<!DOCTYPE html>
<html lang="en">
<head>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/p2m2/discovery@0.4.3/dist/discovery-web.min.js"> </script> 
</head>
<body>
  <div id="status-message"></div>
</body>
  
<script>
    const messageElement = document.getElementById('status-message');
    const rowsPerPage = 5 ;
    
    const html = await = fetch("https://raw.githubusercontent.com/p2m2/tp-discovery-websempilot/main/exo3_export/template.html")

    var config = SWDiscoveryConfiguration
                    .init()
                    .setPageSize(rowsPerPage)
                    .rdfContent(`
                    @prefix mesh: <http://id.nlm.nih.gov/mesh/> .
                    mesh:D005227 <http://myapp/is_selected> true . 
                    `)
                    .urlFile("https://raw.githubusercontent.com/p2m2/tp-discovery-websempilot/main/rdf/triples_assos_CHEBI_MESH_sub.ttl")
                    .urlFile("https://raw.githubusercontent.com/p2m2/tp-discovery-websempilot/main/rdf/triples_assos_MESH_MESH_sub.ttl")
                    .urlFile("https://raw.githubusercontent.com/p2m2/tp-discovery-websempilot/main/rdf/triples_assos_CID_MESH_sub.ttl")
                    ;

    messageElement.textContent = SWDiscovery(config)
          .prefix("chebi","http://purl.obolibrary.org/obo/CHEBI_")
          .prefix("skos","http://www.w3.org/2004/02/skos/core#")
          .something("metabolite")
             .isSubjectOf(URI("skos:related"),"objetMeshTerm")
                .isSubjectOf(URI("<http://myapp/is_selected>"))
                  .set(Literal("true",URI("xsd:boolean")))
                  .getSerializedString();


     // Créer un nouvel élément <a>
    const link = document.createElement('a');

    // Définir les attributs href et le texte du lien
    link.setAttribute('href', 'https://raw.githubusercontent.com/p2m2/tp-discovery-websempilot/main/exo3_export/template.html?discovery='+"test");
    link.textContent = 'display results !';

    // Ajouter le lien au div
    messageElement.appendChild(link);                
 </script>
 </html>    